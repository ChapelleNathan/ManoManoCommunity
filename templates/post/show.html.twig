{% extends 'base.html.twig' %}

{% block title %}Post
{% endblock %}
{% block stylesheets %}
{{ encore_entry_link_tags('showPost') }}
{% endblock %}
{% block body %}
<div class="container">
	<div class="col-sm-12 col-lg-12 container">
		<div class="card px-0 my-4">
			<div class="card-header header-user d-flex flex-row justify-content-between py-3">
				<div class="col-2 d-flex flex-row align-items-center">
					<img class="col-2 mx-2"
						src="{% if post.owner.profilPicture == null %} /build/images/placeholder.png {% else %} {{ vich_uploader_asset(post.owner) }} {% endif %}"
						alt="avatar" class="avatar rounded-circle me-2">
					<p class="text-secondary fw-bold m-0">{{post.owner.firstname}}</p>
				</div>
				{% if app.user == post.owner %}
				<div class="nav-item dropdown">
					<button type="button"
						class="btn btn-outline-dark dropdown-toggle d-flex align-items-center p-2 rounded-3" href="#"
						id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
						<div class="d-flex flex-column align-items-start">
							<i class="bi bi-three-dots text-secondary"></i>
						</div>
					</button>
					<div class="dropdown-menu dropdown-menu-end p-2" aria-labelledby="navbarDropdown">
						<a class="dropdown-item d-flex justify-content-start align-items-center"
							href="{{ path('post_edit', { id: post.id }) }}">
							<i class="bi bi-pencil-square text-primary me-2"></i>
							Modifier</a>
						{{ include("post/_delete_form.html.twig") }}
					</div>
				</div>
				{% endif %}
			</div>
			<img src="{{ asset('build/images/')}}{{ post.photo }}" alt="post photo" class="postpicture">
			<div class="card-body p-3">
				<div class="row">
					<h3 class="col-4 card-title fs-3 fw-bold text-secondary">{{post.title}}</h3>
					{% if is_granted('ROLE_USER') %}
					<div class="col-3">
						<a class="fs-4 text-decoration-none" href="{{ path('post_add_like', {id: post.id}) }}">
							{{ app.user.isLiked(post) ?
							'<i class="bi bi-heart-fill"></i>' :
							'<i class="bi bi-heart"></i>'
							}}{{ post.Liked|length }}</a>
					</div>
					<div class="col-3">
						<a class="col-3 fs-4 text-decoration-none " href="{{ path('post_add_fav', {id: post.id}) }}">{{
							app.user.isInFavorite(post) ?
							'<p><i class="bi bi-star-fill"></i> Ne plus suivre</p>' : '<p><i class="bi bi-star"></i>
								Suivre
							</p>' }}
						</a>
					</div>

					{% endif %}
				</div>
				<p class="card-text">{{post.description}}</p>
				<a href="{{ path('post_show', {id: post.id}) }}" class="d-flex justify-content-end">
					<i class="bi bi-chevron-right text-right"></i>
				</a>
				<div class="row">
					{% for product in post.products %}
					<div class="card col-2 py-3">
						<img src="{{ asset('/build/images/') }}{{ product.image }}" class="product-image"
							alt="{{ product.name }} photo">
							<hr>
						<div class="card-body">
							<p class="card-title">{{ product.name }}</p>
							<a href="{{ product.link }}" class="btn btn-primary">Acheter</a>
						</div>
					</div>
					{% endfor %}
				</div>
				<div class="row">
					<div class="col-sm-4 shadow-sm p-3 mb-3 bg-body rounded">
						<div class="card">
							<div class="card-body">
								<div class="text-end">
									<h5 class="card-title">Special title treatment</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional
										content.</p>
								</div>
								<img class="col-5" src="{{ asset('build/images/')}}{{ post.photo }}" alt="">
								<div class="text-end">
									<a href="#" class="btn btn-outline-dark rounded-pill">Voir l'article</a>
									<a href="">
										<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="dark"
											class="bi bi-plus-circle mx-3" viewbox="0 0 16 16">
											<path
												d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
											<path
												d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
										</svg>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-4 shadow-sm p-3 mb-3 bg-body rounded">
						<div class="card">
							<div class="card-body">
								<div class="text-end">
									<h5 class="card-title">Special title treatment</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional
										content.</p>
								</div>
								<img class="col-5" src="{{ asset('build/images/')}}{{ post.photo }}" alt="">
								<div class="text-end">
									<a href="#" class="btn btn-outline-dark rounded-pill">Voir l'article</a>
									<a href="">
										<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="dark"
											class="bi bi-plus-circle mx-3" viewbox="0 0 16 16">
											<path
												d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
											<path
												d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
										</svg>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-4 shadow-sm p-3 mb-3 bg-body rounded">
						<div class="card">
							<div class="card-body">
								<div class="text-end">
									<h5 class="card-title">Special title treatment</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional
										content.</p>
								</div>
								<img class="col-5" src="{{ asset('build/images/')}}{{ post.photo }}" alt="">
								<div class="text-end">
									<a href="#" class="btn btn-outline-dark rounded-pill">Voir l'article</a>
									<a href="">
										<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="dark"
											class="bi bi-plus-circle mx-3" viewbox="0 0 16 16">
											<path
												d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
											<path
												d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
										</svg>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-4 shadow-sm p-3 mb-3 bg-body rounded">
						<div class="card">
							<div class="card-body">
								<div class="text-end">
									<h5 class="card-title">Special title treatment</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional
										content.</p>
								</div>
								<img class="col-5" src="{{ asset('build/images/')}}{{ post.photo }}" alt="">
								<div class="text-end">
									<a href="#" class="btn btn-outline-dark rounded-pill">Voir l'article</a>
									<a href="">
										<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="dark"
											class="bi bi-plus-circle mx-3" viewbox="0 0 16 16">
											<path
												d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
											<path
												d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
										</svg>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-4 shadow-sm p-3 mb-3 bg-body rounded">
						<div class="card">
							<div class="card-body">
								<div class="text-end">
									<h5 class="card-title">Special title treatment</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional
										content.</p>
								</div>
								<img class="col-5" src="{{ asset('build/images/')}}{{ post.photo }}" alt="">
								<div class="text-end">
									<a href="#" class="btn btn-outline-dark rounded-pill">Voir l'article</a>
									<a href="">
										<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="dark"
											class="bi bi-plus-circle mx-3" viewbox="0 0 16 16">
											<path
												d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
											<path
												d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
										</svg>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-4 shadow-sm p-3 mb-3 bg-body rounded">
						<div class="card">
							<div class="card-body">
								<div class="text-end">
									<h5 class="card-title">Special title treatment</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional
										content.</p>
								</div>
								<img class="col-5" src="{{ asset('build/images/')}}{{ post.photo }}" alt="">
								<div class="text-end">
									<a href="#" class="btn btn-outline-dark rounded-pill">Voir l'article</a>
									<a href="">
										<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="dark"
											class="bi bi-plus-circle mx-3" viewbox="0 0 16 16">
											<path
												d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
											<path
												d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
										</svg>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-4 shadow-sm p-3 mb-3 bg-body rounded">
						<div class="card">
							<div class="card-body">
								<div class="text-end">
									<h5 class="card-title">Special title treatment</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional
										content.</p>
								</div>
								<img class="col-5" src="{{ asset('build/images/')}}{{ post.photo }}" alt="">
								<div class="text-end">
									<a href="#" class="btn btn-outline-dark rounded-pill">Voir l'article</a>
									<a href="">
										<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="dark"
											class="bi bi-plus-circle mx-3" viewbox="0 0 16 16">
											<path
												d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
											<path
												d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
										</svg>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-4 shadow-sm p-3 mb-3 bg-body rounded">
						<div class="card">
							<div class="card-body">
								<div class="text-end">
									<h5 class="card-title">Special title treatment</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional
										content.</p>
								</div>
								<img class="col-5" src="{{ asset('build/images/')}}{{ post.photo }}" alt="">
								<div class="text-end">
									<a href="#" class="btn btn-outline-dark rounded-pill">Voir l'article</a>
									<a href="">
										<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="dark"
											class="bi bi-plus-circle mx-3" viewbox="0 0 16 16">
											<path
												d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
											<path
												d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
										</svg>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-4 shadow-sm p-3 mb-3 bg-body rounded">
						<div class="card">
							<div class="card-body">
								<div class="text-end">
									<h5 class="card-title">Special title treatment</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional
										content.</p>
								</div>
								<img class="col-5" src="{{ asset('build/images/')}}{{ post.photo }}" alt="">
								<div class="text-end">
									<a href="#" class="btn btn-outline-dark rounded-pill">Voir l'article</a>
									<a href="">
										<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="dark"
											class="bi bi-plus-circle mx-3" viewbox="0 0 16 16">
											<path
												d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
											<path
												d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
										</svg>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>

				<a class="btn btn-primary text-light" href="{{ path('post_index') }}"><i class="bi bi-arrow-left"></i>
					Retour</a>
			</div>
		</div>
	</div>
</div>
{% endblock %}